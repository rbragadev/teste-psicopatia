const questions = [
    { 
        question: "Voc√™ v√™ um cachorrinho na rua, o que faz?",
        answers: [
            "Fa√ßo carinho e converso com ele.",  
            "Tiro uma foto pro Instagram.", 
            "Sigo meu caminho, mas com o cora√ß√£o partido.", 
            "Desafio o cachorro para um duelo de olhares at√© algu√©m piscar primeiro." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Voc√™ tirou foto, mas n√£o deu carinho? O cachorro agora est√° triste. üò≠",
            "Ignorar um cachorro fofo? Seu cora√ß√£o de gelo me assusta. ‚ùÑÔ∏èüê∂",
            "Voc√™ realmente desafiou um cachorro para um duelo? Ele provavelmente ganhou. üê∂üî•"
        ],
        rightFeedback: "Parab√©ns! Voc√™ sabe que cachorros merecem carinho. üê∂",
        myAnswerFeedback: "Como eu respondi essa? 'Desafiei o cachorro para um duelo'. Ele ganhou. Ainda n√£o superei. üê∂üòî"
    },
    { 
        question: "Voc√™ est√° num apocalipse zumbi. O que faz primeiro?",
        answers: [
            "Procuro suprimentos e um lugar seguro.",  
            "Tento negociar paz com os zumbis.",  
            "Me escondo no shopping porque tem comida e Wi-Fi.",  
            "Entro no meio dos zumbis fingindo que sou um deles." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Negociar com zumbis? Boa sorte tentando convencer eles a n√£o comerem c√©rebros. üß†üßü",
            "Se esconder no shopping √© bom... at√© a comida acabar. E os zumbis invadirem. üõí",
            "Fingir que √© um zumbi? √ìtimo, agora voc√™ faz parte do time errado. üßü‚Äç‚ôÇÔ∏èüòÇ"
        ],
        rightFeedback: "√ìtima escolha! Melhor estar preparado do que virar lanche. üî™",
        myAnswerFeedback: "Como eu respondi essa? 'Fingi que era um zumbi'. E me dei t√£o bem que fui eleito l√≠der deles. üëëüßü‚Äç‚ôÇÔ∏è"
    },
    { 
        question: "Se voc√™ pudesse ser um animal por um dia, qual escolheria?",
        answers: [
            "Um p√°ssaro para poder voar livremente.",  
            "Um gato para dormir o dia todo e ser mimado.",  
            "Um tubar√£o porque ningu√©m mexe com eles.",  
            "Um ornitorrinco, s√≥ para deixar as pessoas confusas." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Ser um gato seria bom... at√© algu√©m te expulsar da cama. üõèÔ∏èüê±",
            "Ser um tubar√£o parece legal, mas e se voc√™ tiver medo de √°gua? üåä",
            "Ornitorrinco? Realmente, voc√™ seria um mist√©rio da natureza. ü§®ü¶Ü"
        ],
        rightFeedback: "√ìtima escolha! Voar sem precisar pagar passagem √© incr√≠vel. ü¶Ö",
        myAnswerFeedback: "Como eu respondi essa? 'Ornitorrinco'. Agora todos se perguntam que bicho estranho eu sou. ü§î"
    },
    { 
        question: "O que voc√™ faria se ganhasse na loteria?",
        answers: [
            "Viajaria pelo mundo e aproveitaria a vida.",  
            "Guardaria tudo no banco e viveria de juros.",  
            "Compraria um castelo para morar como um rei.",  
            "Construiria um McDonald's particular s√≥ para mim." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Guardar tudo no banco? Chato, mas esperto. üí∞",
            "Morar num castelo? S√≥ se tiver Wi-Fi e Netflix. üè∞",
            "Um McDonald's particular? Voc√™ vai virar o cliente VIP do Ronald McDonald. üçîüòÇ"
        ],
        rightFeedback: "√ìtima escolha! Viajar e conhecer o mundo seria incr√≠vel. ‚úàÔ∏è",
        myAnswerFeedback: "Como eu respondi essa? 'Construiria um McDonald's'. Agora sou dono da batata frita infinita. üçüüî•"
    },
    { 
        question: "Se voc√™ tivesse um rob√¥ assistente, o que ele faria?",
        answers: [
            "Cuidaria das tarefas de casa para eu relaxar.",  
            "Ajudaria a lembrar de compromissos e senhas.",  
            "Seria um guarda-costas com intelig√™ncia artificial.",  
            "Me carregaria para todos os lugares como um rei." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Um rob√¥ para lembrar de compromissos? Boa, agora voc√™ nunca mais esquece o anivers√°rio de ningu√©m. üìÖü§ñ",
            "Um rob√¥ guarda-costas? Se for tipo o Exterminador do Futuro, pode ser um problema. üî´üòÖ",
            "Ser carregado pelo rob√¥? Parab√©ns, voc√™ virou um fara√≥ tecnol√≥gico. üëëüòÇ"
        ],
        rightFeedback: "√ìtima ideia! Deixar o rob√¥ cuidar da casa enquanto relaxamos √© um sonho. ü§ñ",
        myAnswerFeedback: "Como eu respondi essa? 'O rob√¥ me carregaria'. Agora sou um imperador do sof√°. üõãÔ∏èüòÇ"
    },
    { 
        question: "Se voc√™ pudesse viver em qualquer √©poca, qual escolheria?",
        answers: [
            "No futuro, para ver as tecnologias avan√ßadas.",  
            "Na Idade M√©dia, para ser um cavaleiro.",  
            "Nos anos 80, s√≥ para curtir a m√∫sica.",  
            "Na √©poca dos dinossauros, para tentar domestic√°-los." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Idade M√©dia? Voc√™ teria que lutar com espada e tomar banho uma vez por m√™s. ‚öîÔ∏èüõÅ",
            "Anos 80? Boas m√∫sicas, mas prepare-se para usar roupas neon. üé∏üï∂Ô∏è",
            "Domesticar dinossauros? Ok, s√≥ n√£o tente ensinar truques para o T-Rex. ü¶ñüòÇ"
        ],
        rightFeedback: "√ìtima escolha! Imaginar as tecnologias do futuro √© fascinante. üöÄ",
        myAnswerFeedback: "Como eu respondi essa? 'Viver na √©poca dos dinossauros'. Jurassic Park vers√£o YOLO. ü¶ñüî•"
    },
    { 
        question: "Qual seria o presente perfeito para voc√™?",
        answers: [
            "Uma viagem inesquec√≠vel para um lugar incr√≠vel.",  
            "Um jantar especial com algu√©m importante.",  
            "Um videogame de √∫ltima gera√ß√£o.",  
            "Um caminh√£o cheio de pizza, para durar uma semana." 
        ],
        correctAnswer: 0,
        myAnswer: 3, 
        wrongFeedbacks: [
            "",
            "Um jantar especial? √ìtima escolha... se n√£o for voc√™ cozinhando. üòÇüçΩÔ∏è",
            "Videogame? Perfeito, mas cuidado para n√£o esquecer do mundo real. üéÆ",
            "Um caminh√£o de pizza? Isso parece um plano de vida. üçïüî•"
        ],
        rightFeedback: "√ìtima escolha! Viajar sempre cria mem√≥rias incr√≠veis. ‚úàÔ∏è",
        myAnswerFeedback: "Como eu respondi essa? 'Caminh√£o de pizza'. Agora sou o rei das calorias. üçïüëë"
    }
];


let currentQuestionIndex = 0;
let opponentScore = 0;

const introContainer = document.getElementById("intro");
const quizContainer = document.getElementById("quiz");
const questionElement = document.getElementById("question");
const answersElement = document.getElementById("answers");
const feedbackContainer = document.getElementById("feedback");
const feedbackText = document.getElementById("feedback-text");
const feedbackCorrectAnswer = document.getElementById("feedback-correct-answer");
const myAnswerText = document.getElementById("my-answer-text"); // Adicionando campo para mostrar sua resposta absurda
const nextQuestionButton = document.getElementById("next-question");
const finalResultContainer = document.getElementById("final-result");
const opponentScoreElement = document.getElementById("opponent-score");
const verdictElement = document.getElementById("verdict");

document.getElementById("start-quiz").addEventListener("click", function () {
    introContainer.classList.add("hidden");
    quizContainer.classList.remove("hidden");
    showQuestion();
});

function showQuestion() {
    const currentQuestion = questions[currentQuestionIndex];
    questionElement.textContent = currentQuestion.question;
    answersElement.innerHTML = "";

    currentQuestion.answers.forEach((answer, index) => {
        const button = document.createElement("button");
        button.textContent = answer;
        button.onclick = function () {
            checkAnswer(index, currentQuestion);
        };
        answersElement.appendChild(button);
    });
}

function checkAnswer(selectedIndex, question) {
    quizContainer.classList.add("hidden");
    feedbackContainer.classList.remove("hidden");

    if (selectedIndex === question.correctAnswer) {
        opponentScore++;
        feedbackText.innerHTML = `<strong>${question.rightFeedback}</strong>`;
    } else {
        // Exibe o feedback correto para a resposta errada espec√≠fica
        feedbackText.innerHTML = `<strong>${question.wrongFeedbacks[selectedIndex]}</strong>`;
    }

    feedbackCorrectAnswer.textContent = `A resposta certa era: "${question.answers[question.correctAnswer]}"`;
    myAnswerText.textContent = question.myAnswerFeedback;
}


nextQuestionButton.addEventListener("click", function () {
    feedbackContainer.classList.add("hidden");
    currentQuestionIndex++;

    if (currentQuestionIndex < questions.length) {
        quizContainer.classList.remove("hidden");
        showQuestion();
    } else {
        finalResultContainer.classList.remove("hidden");
        showFinalLaudo();
    }
});


function showFinalLaudo() {
    finalResultContainer.innerHTML = `
        <h2>Laudo Final: Avalia√ß√£o Psiqui√°trica üìã</h2>
        <p>Ap√≥s uma an√°lise altamente cient√≠fica e s√©ria, chegamos √† seguinte conclus√£o:</p>
        <h3>Sua sanidade est√°... digamos, em observa√ß√£o. ü§î</h3>
        <p>A √∫nica forma de confirmar isso √© com uma avalia√ß√£o presencial em um ambiente controlado, e segundo especialistas, o local perfeito para isso √© um jantar! üçΩÔ∏è</p>
        <p>Portanto, voc√™ tem duas op√ß√µes:</p>
        <button id="accept-dinner">Aceitar a avalia√ß√£o e jantar üç∑</button>
        <button id="reject-dinner">Negar a avalia√ß√£o ‚ùå</button>
        <p id="error-message" class="hidden" style="color: red; font-weight: bold;"></p>
    `;
    
    document.getElementById("accept-dinner").addEventListener("click", function () {
        const whatsappMessage = encodeURIComponent(
            "Ol√°! Fiz o teste e aparentemente minha sanidade precisa ser confirmada com um jantar. üçΩÔ∏è\n\n" +
            "Como sou uma pessoa respons√°vel, estou disposto(a) a passar por essa avalia√ß√£o presencial e comer muito bem no processo. üòÜ\n\n" +
            "Ent√£o... quando vamos marcar? üòè"
        );
        window.location.href = `https://wa.me/31988884668?text=${whatsappMessage}`;
    });

    document.getElementById("reject-dinner").addEventListener("click", function () {
        const errorMessage = document.getElementById("error-message");
        errorMessage.textContent = "Erro: Essa op√ß√£o n√£o √© v√°lida. Infelizmente, voc√™ √© obrigado(a) a jantar comigo. ü§∑‚Äç‚ôÇÔ∏èüòÇ";
        errorMessage.classList.remove("hidden");
    });
}





